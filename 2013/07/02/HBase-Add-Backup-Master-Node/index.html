<!DOCTYPE html>
<html>
<head>
  <meta name="google-site-verification" content="jwTXFzpP2oTL-C-azr5nl4SZX_THzNy9xEzQ0BzTX-g" />
  <meta charset="utf-8">
  
  <title>Add Backup Master Node in HBase Cluster | SparkEra</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="How to add a backup master node to the cluster? There are two ways of doing that.
In One Way
Start the HBase master daemon on the backup master node:
hadoop@master2$ $HBASE_HOME/bin/hbase-daemon.sh st">
<meta property="og:type" content="article">
<meta property="og:title" content="Add Backup Master Node in HBase Cluster">
<meta property="og:url" content="http://www.sparkera.ca/2013/07/02/HBase-Add-Backup-Master-Node/index.html">
<meta property="og:site_name" content="SparkEra">
<meta property="og:description" content="How to add a backup master node to the cluster? There are two ways of doing that.
In One Way
Start the HBase master daemon on the backup master node:
hadoop@master2$ $HBASE_HOME/bin/hbase-daemon.sh st">
<meta property="og:image" content="http://www.sparkera.ca/images/hbase.png">
<meta property="og:updated_time" content="2015-08-22T02:27:11.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Add Backup Master Node in HBase Cluster">
<meta name="twitter:description" content="How to add a backup master node to the cluster? There are two ways of doing that.
In One Way
Start the HBase master daemon on the backup master node:
hadoop@master2$ $HBASE_HOME/bin/hbase-daemon.sh st">
  
  
    <link rel="icon" href="/image/favicon.ico">
  

  <link rel="stylesheet" href="/css/style.css" type="text/css">
  
    <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">
  
  
    <link rel="stylesheet" href="/scrollLoading/style.css" type="text/css">
  
  


  

  
    <link href='//fonts.googleapis.com/css?family=Titillium+Web:300,400,600' rel='stylesheet' type='text/css'>
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/font-awesome/css/font-awesome.min.css" type="text/css">
</head>

<body>
  <div id="wrap">
    <header id="header">
  <div id="header-outer" class="outer">
    <div class="container">
      <div class="container-inner">
        <div id="header-title">
          <h1 class="logo-wrap">
            <a href="/" class="logo"></a>
          </h1>
          
            <h2 class="subtitle-wrap">
              <p class="subtitle">Big Data Big Insight</p>
            </h2>
          
        </div>
        <div id="header-inner" class="nav-container">
          <a id="main-nav-toggle" class="nav-icon fa fa-bars"></a>
          <div class="nav-container-inner">
            <ul id="main-nav">
              
                <li class="main-nav-list-item" ><a class="main-nav-list-link" href="/">Home</a></li>
              
                    <ul class="main-nav-list"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Blog/">Blog</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Reviews/">Reviews</a><ul class="main-nav-list-child"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Reviews/Big-Data/">Big Data</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Reviews/Coding/">Coding</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Reviews/DBDWBI/">DBDWBI</a></li></ul></li></ul>
                  
                <li class="main-nav-list-item" ><a class="main-nav-list-link" href="/about/index.html">About</a></li>
              
            </ul>
            <nav id="sub-nav">
              <div id="search-form-wrap">
                <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><input type="hidden" name="sitesearch" value="http://www.sparkera.ca"></form>
              </div>
            </nav>
          </div>
        </div>
      </div>
    </div>
  </div>
</header>
    <div class="container">
      <div class="main-body container-inner">
        <div class="main-body-inner">
          <section id="main">
            <div class="main-body-header">

              <h1 class="header"><a class="page-title-link" href="/categories/Blog/">Blog</a></h1>
            </div>
            <div class="main-body-content">
              
  <article id="post-HBase-Add-Backup-Master-Node" class="article article-single article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
      <!--  -->
      
        <header class="article-header">
          
  
    <h1 class="article-title" itemprop="name">
      Add Backup Master Node in HBase Cluster
    </h1>
  

        </header>
      
      <p class="article-byline">
        <a href="/2013/07/02/HBase-Add-Backup-Master-Node/" class="article-date">
  <time datetime="2013-07-02T04:00:00.000Z" itemprop="datePublished">2013-07-02</time>
</a>
      </p>
      <div class="article-entry" itemprop="articleBody">
        <p><img src="/images/hbase.png" align="center"><br>How to add a backup master node to the cluster? There are two ways of doing that.</p>
<h4 id="In_One_Way">In One Way</h4><ol>
<li><p>Start the HBase master daemon on the backup master node:</p>
<pre><code>hadoop@master2$ <span class="variable">$HBASE</span>_HOME/bin/hbase-daemon.sh <span class="keyword">start</span> master
</code></pre><p>From the master log, you will find that the newly started master is waiting to become the next active master:<br></p>
<pre><code>&gt;org.apache.hadoop.hbase.master.ActiveMasterManager: Another master is the active
&gt;master, ip-<span class="number">10</span>-<span class="number">176</span>-<span class="number">201</span>-<span class="number">128.u</span>s-west-<span class="number">1.</span>compute.internal,
&gt;<span class="number">60000</span>,<span class="number">1328878644330</span>; waiting to become the next active master
</code></pre></li>
<li><p>Add the new region server’s hostname into the regionservers file, under the $HBASE_HOME/conf directory. For example, to add “slave4” to the cluster, we invoke the following command:</p>
<pre><code>hadoop<span class="variable">@master1</span><span class="variable">$ </span>echo <span class="string">"slave4"</span> <span class="prompt">&gt;&gt; </span><span class="variable">$HBASE_HOME</span>/conf/regionservers
</code></pre></li>
<li><p>Sync the modified regionservers file across the cluster.</p>
</li>
<li><p>Log in to the new server and start the region server daemon there:</p>
<pre><code>hadoop@slave4$ <span class="variable">$HBASE</span>_HOME/bin/hbase-daemon.sh <span class="keyword">start</span> regionserver
</code></pre><p>5.Optionally, trigger a load balancer manually from HBase Shell to move some regions to the new region server. You can also wait for the next run of the balancer, which runs every five minutes by default.</p>
<pre><code>hbase&gt; balance_switch <span class="literal">true</span>
hbase&gt; balance
</code></pre><p><br></p>
</li>
</ol>
<h4 id="In_The_Other_Way">In The Other Way</h4><ol>
<li><p>Add backup master nodes to the conf/backup-masters file:</p>
<pre><code>hadoop@master1$ echo <span class="string">"master2"</span> &gt;&gt; <span class="variable">$HBASE</span>_HOME/conf/backup-masters`
</code></pre></li>
<li><p>Sync the backup-masters file across the cluster.</p>
</li>
<li><p>Start HBase normally; you will find that a backup HBase master will be started at the backup master node:</p>
<pre><code>hadoop<span class="annotation">@master</span>1$ $HBASE_HOME<span class="regexp">/bin/</span>start-hbase.sh`&lt;br&gt;
&gt;starting master, 
&gt;logging to <span class="regexp">/usr/</span>local<span class="regexp">/hbase/</span>logs/hbase-hadoop-master-master1.out
&gt;<span class="string">slave2:</span>starting regionserver,
&gt;logging to <span class="regexp">/usr/</span>local<span class="regexp">/hbase/</span>logs/hbase-hadoop-regionserver-slave2.out
&gt;<span class="string">slave1:</span>starting regionserver,
&gt;logging to <span class="regexp">/usr/</span>local<span class="regexp">/hbase/</span>logs/hbase-hadoop-regionserver-slave1.out 
&gt;<span class="string">slave3:</span>starting regionserver,
&gt;logging to <span class="regexp">/usr/</span>local<span class="regexp">/hbase/</span>logs/hbase-hadoop-regionserver-slave3.out
&gt;<span class="string">master2:</span>starting master,
&gt;logging to <span class="regexp">/usr/</span>local<span class="regexp">/hbase/</span>logs/hbase-hadoop-master-master2.out
</code></pre></li>
<li><p>The master log on the backup master indicates that it is a backup master: </p>
<pre><code>hadoop@master2$ tail /usr/local/hbase/logs/hbase-hadoop-master-master2.<span class="built_in">log</span>
&gt;<span class="number">2012</span>-<span class="number">02</span>-<span class="number">10</span> <span class="number">23</span>:<span class="number">12</span>:<span class="number">07</span>,<span class="number">016</span> INFO
&gt;org.apache.hadoop.hbase.master.ActiveMasterManager: Another master is the active
&gt;master, ip-<span class="number">10</span>-<span class="number">176</span>-<span class="number">201</span>-<span class="number">128.u</span>s-west-<span class="number">1.</span>compute.internal, 
&gt;<span class="number">60000</span>,<span class="number">1328883123244</span>; waiting to become the next active master
</code></pre></li>
</ol>

      </div>
	  <div class="addthis_native_toolbox">
  <!-- Go to www.addthis.com/dashboard to customize your tools -->
  <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-55ccd80609fffe5a" async="async">
  </script>
  <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-55ccd80609fffe5a" async="async">
  </script>
  </div>
      <footer class="article-footer">
        <a data-url="http://www.sparkera.ca/2013/07/02/HBase-Add-Backup-Master-Node/" data-id="cidmgif5m002nnmx676pusvto" class="article-share-link">Share</a>
        
          <a href="http://www.sparkera.ca/2013/07/02/HBase-Add-Backup-Master-Node/#comments" class="article-comment-link">Comments</a>
        
        
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/hbase/">hbase</a></li></ul>

      </footer>
    </div>
  
  </article>
  
  
    <section id="comments">
      <div id="disqus_thread">
        <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
      </div>
    </section>
  
  

            </div>
          </section>
          <aside id="sidebar">
  <a class="sidebar-toggle" title="Expand Sidebar"><i class="toggle icon"></i></a>
  <div class="sidebar-top">
    <p>follow:</p>
    <ul class="social-links">
      
        <li><a class="social-tooltip" title="twitter" href="https://twitter.com/willdu8" target="_blank"><i class="icon fa fa-twitter"></i></a></li>
      
        <li><a class="social-tooltip" title="facebook" href="https://www.facebook.com/will.du.7545" target="_blank"><i class="icon fa fa-facebook"></i></a></li>
      
        <li><a class="social-tooltip" title="github" href="http://github.com/willddy" target="_blank"><i class="icon fa fa-github"></i></a></li>
      
        <li><a class="social-tooltip" title="rss" href="/atom.xml" target="_blank"><i class="icon fa fa-rss"></i></a></li>
      
    </ul>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2013/07/06/HBase-Disable-Major-Compaction/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">newer</strong>
      <p class="article-nav-title">
        
          Disable Major Compaction in HBase Cluster
        
      </p>
      <i class="icon fa fa-chevron-right" id="icon-chevron-right"></i>
    </a>
  
  
    <a href="/2013/06/18/Big-Data-Platform/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">older</strong>
      <p class="article-nav-title">Big Data Platform</p>
      <i class="icon fa fa-chevron-left" id="icon-chevron-left"></i>
    </a>
  
</nav>

  
  <div class="widgets-container">
    
      
  <div class="widget-wrap">
    <h3 class="widget-title">recents</h3>
    <div class="widget">
      <ul id="recent-post" class="">
        
          <li>
            
            <div class="item-thumbnail">
              
<a href="/2015/08/21/Get-Git-Modified-But-Untracked-Content-Checked-In/" class="thumbnail">
  
    <span style="background-image:url(/images/gettingStartedGit.jpg
)" alt="Get Git Modified But Untracked Content Checked In" class="thumbnail-image"></span>
  
</a>

            </div>
            
            <div class="item-inner">
              <p class="item-category"><a class="article-category-link" href="/categories/Blog/">Blog</a></p>
              <p class="item-title"><a href="/2015/08/21/Get-Git-Modified-But-Untracked-Content-Checked-In/" class="title">Get Git Modified But Untracked Content Checked In</a></p>
              <p class="item-date"><time datetime="2015-08-21T15:27:57.000Z" itemprop="datePublished">2015-08-21</time></p>
            </div>
          </li>
        
          <li>
            
            <div class="item-thumbnail">
              
<a href="/2015/06/21/Hadoop Streaming/" class="thumbnail">
  
    <span style="background-image:url(/images/hadoopstream.jpg
)" alt="Hadoop Streaming" class="thumbnail-image"></span>
  
</a>

            </div>
            
            <div class="item-inner">
              <p class="item-category"><a class="article-category-link" href="/categories/Blog/">Blog</a></p>
              <p class="item-title"><a href="/2015/06/21/Hadoop Streaming/" class="title">Hadoop Streaming</a></p>
              <p class="item-date"><time datetime="2015-06-21T04:00:00.000Z" itemprop="datePublished">2015-06-21</time></p>
            </div>
          </li>
        
          <li>
            
            <div class="item-thumbnail">
              
<a href="/2015/04/20/Scala and Java Constructors/" class="thumbnail">
  
    <span style="background-image:url(/images/scala-vs-java.png
)" alt="Scala Constructor vs. Java Constructor" class="thumbnail-image"></span>
  
</a>

            </div>
            
            <div class="item-inner">
              <p class="item-category"><a class="article-category-link" href="/categories/Blog/">Blog</a></p>
              <p class="item-title"><a href="/2015/04/20/Scala and Java Constructors/" class="title">Scala Constructor vs. Java Constructor</a></p>
              <p class="item-date"><time datetime="2015-04-20T04:00:00.000Z" itemprop="datePublished">2015-04-20</time></p>
            </div>
          </li>
        
          <li>
            
            <div class="item-thumbnail">
              
<a href="/2015/03/15/Apache Hive Essentials Published/" class="thumbnail">
  
    <span style="background-image:url(/images/hivebooks.jpg
)" alt="Apache Hive Essentials Published" class="thumbnail-image"></span>
  
</a>

            </div>
            
            <div class="item-inner">
              <p class="item-category"><a class="article-category-link" href="/categories/Blog/">Blog</a></p>
              <p class="item-title"><a href="/2015/03/15/Apache Hive Essentials Published/" class="title">Apache Hive Essentials Published</a></p>
              <p class="item-date"><time datetime="2015-03-15T04:00:00.000Z" itemprop="datePublished">2015-03-15</time></p>
            </div>
          </li>
        
          <li>
            
            <div class="item-thumbnail">
              
<a href="/2015/02/12/Hive and Hadoop Exceptions/" class="thumbnail">
  
    <span style="background-image:url(/images/exceptions.png
)" alt="Hive and Hadoop Exceptions" class="thumbnail-image"></span>
  
</a>

            </div>
            
            <div class="item-inner">
              <p class="item-category"><a class="article-category-link" href="/categories/Blog/">Blog</a></p>
              <p class="item-title"><a href="/2015/02/12/Hive and Hadoop Exceptions/" class="title">Hive and Hadoop Exceptions</a></p>
              <p class="item-date"><time datetime="2015-02-12T05:00:00.000Z" itemprop="datePublished">2015-02-12</time></p>
            </div>
          </li>
        
      </ul>
    </div>
  </div>

    
      
  <div class="widget-wrap">
    <h3 class="widget-title">tagcloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/linux/" style="font-size: 13px; color: #90f">linux</a> <a href="/tags/git/" style="font-size: 20.14px; color: #e20049">git</a> <a href="/tags/scala/" style="font-size: 14.43px; color: #a800db">scala</a> <a href="/tags/hive/" style="font-size: 21.57px; color: #f00024">hive</a> <a href="/tags/bigdata/" style="font-size: 17.29px; color: #c50092">bigdata</a> <a href="/tags/spark/" style="font-size: 15.86px; color: #b600b6">spark</a> <a href="/tags/books/" style="font-size: 18.71px; color: #d3006d">books</a> <a href="/tags/data-science/" style="font-size: 13px; color: #90f">data science</a> <a href="/tags/hadoop/" style="font-size: 23px; color: #f00">hadoop</a> <a href="/tags/pig/" style="font-size: 14.43px; color: #a800db">pig</a> <a href="/tags/hbase/" style="font-size: 15.86px; color: #b600b6">hbase</a> <a href="/tags/maven/" style="font-size: 13px; color: #90f">maven</a> <a href="/tags/jekyll/" style="font-size: 13px; color: #90f">jekyll</a> <a href="/tags/mapred/" style="font-size: 14.43px; color: #a800db">mapred</a> <a href="/tags/scrum/" style="font-size: 13px; color: #90f">scrum</a> <a href="/tags/datamining/" style="font-size: 13px; color: #90f">datamining</a>
    </div>
  </div>


    
      
  <div class="widget-wrap widget-list">
    <h3 class="widget-title">archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/08/">August 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/06/">June 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/04/">April 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/03/">March 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/02/">February 2015</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/01/">January 2015</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/12/">December 2014</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/11/">November 2014</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/04/">April 2014</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/09/">September 2013</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/08/">August 2013</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/07/">July 2013</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/06/">June 2013</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/05/">May 2013</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/04/">April 2013</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/03/">March 2013</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/02/">February 2013</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/01/">January 2013</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/12/">December 2012</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/11/">November 2012</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/10/">October 2012</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/09/">September 2012</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/08/">August 2012</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/07/">July 2012</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/06/">June 2012</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/05/">May 2012</a><span class="archive-list-count">2</span></li></ul>
    </div>
  </div>


    
      
  <div class="widget-wrap widget-list">
    <h3 class="widget-title">links</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="http://hexo.io">Hexo</a>
          </li>
        
      </ul>
    </div>
  </div>


    
  </div>
</aside>
        </div>
      </div>
    </div>
    <footer id="footer">
  
  <div class="container">
    <div class="container-inner">
      <a id="back-to-top" href="javascript:;"><i class="icon fa fa-angle-up"></i></a>
      <div class="credit">
        <h1 class="logo-wrap">
          <a href="/" class="logo"></a>
        </h1>
        <p>&copy; 2015 Will</p>
		<p><script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
		<span id="busuanzi_container_site_pv"> You are the No. <span id="busuanzi_value_site_pv"></span> visits</span>
		</p>
        <p>Powered by <a href="//hexo.io/" target="_blank">Hexo</a>. Theme by <a href="//github.com/ppoffice" target="_blank">PPOffice.</a>
		</p>
      </div>
    </div>
  </div>
</footer>
    
<script>
  var disqus_shortname = 'sparkera';
  
  var disqus_url = 'http://www.sparkera.ca/2013/07/02/HBase-Add-Backup-Master-Node/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>



  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>



  <script src="/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>



  <script src="/scrollLoading/jquery.scrollLoading.js" type="text/javascript"></script>
  <script src="/scrollLoading/main.js" type="text/javascript"></script>


<script src="/js/html-patch.js" type="text/javascript"></script>
<script src="/js/script.js" type="text/javascript"></script>

  </div>
</body>
</html>
